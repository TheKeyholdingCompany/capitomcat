{"name":"Capitomcat","tagline":"Capistrano Recipe for Tomcat Deploy","body":"# Capitomcat\r\n[![Gem Version](https://badge.fury.io/rb/capitomcat.png)](http://badge.fury.io/rb/capitomcat)\r\n\r\nCapitomcat is library for creating Capistrano Tomcat recipe.\r\nCapitomcat includes basic tasks for Tomcat deployment. You can create easily your own Capistrano 3 recipe for Tomcat with Capitomcat.\r\n\r\n##Requirement\r\n###Gem Dependency\r\n* Ruby >= 1.9\r\n* Capistrano >= 3.0.1\r\n\r\n### Authentication & Authorisation setting for Remote Servers\r\nBy the recommendation of Capistrano 3, Capitomcat use SSH Key and NOPASSWD instead of asking password.\r\n\r\nfor more details, please refer to  [Authentication & Authorisation][1] page on Capistrano website.\r\n[1]: http://capistranorb.com/documentation/getting-started/authentication-and-authorisation/\r\n####User account setting\r\n```` sh\r\nroot@remote $ adduser <your_deploy_user_name>\r\nroot@remote $ passwd -l <your_deploy_user_name>\r\n````\r\nor\r\n```` sh\r\nroot@remote $ adduser --home /home/deploy --disabled-password deploy\r\n````\r\n\r\n####SSH Key setting\r\nAdd your SSH key into `authorized_keys` file of `deploy` user on your remote server.\r\n\r\n####NOPASSWD Setting for SUDO\r\nFolowing NOPASSWD setting is required. please add following setting into your `/etc/sudoers` file.\r\n```` sh\r\n%your_deploy_user_name ALL=NOPASSWD:/etc/init.d/tomcat7 <Your tomcat command>\r\n%your_deploy_user_name ALL=NOPASSWD: /bin/chown \r\n%your_deploy_user_name ALL=(<your_tomcat_user> : <your_tomcat_user_group>) NOPASSWD: ALL\r\n````\r\n\r\n##Installation\r\nTo use Capitomcat in your Capistrano script, you need install as RubyGem\r\n\r\n###Install Ruby\r\nPlease refer to [Download Ruby](http://www.ruby-lang.org/en/downloads/) page on the Ruby official website.\r\n###Install RubyGems\r\nPlease refer to [Download RubyGems](http://rubygems.org/pages/download) page on the RubyGems official website.\r\n###Install Capistrano\r\nCapitomcat v1.0.0 supports Capistrano 3. (Capitomcat v0.0.x supports Capistrano 2)\r\n``` sh\r\n$ gem install capistrano -v 3.0.1\r\n```\r\n###Install Capitomcat\r\n``` sh\r\n$ gem install capitomcat\r\n```\t\r\n\r\n##Configuration\r\n### Role Configuration\r\n<pre>\r\nrole :app, %w{deploy@dev01 deploy@dev02}\r\n</pre>\r\n### Required configuration for Capitomcat\r\n<pre>\r\nset :use_sudo, true\r\n\r\n# Remote Tomcat server setting section\r\nset :tomcat_user, 'tomcat7'\r\nset :tomcat_user_group, 'tomcat7'\r\nset :tomcat_port, '8080'\r\nset :tomcat_cmd, '/etc/init.d/tomcat7'\r\nset :use_tomcat_user_cmd, false\r\nset :tomcat_war_file, '/var/app/war/test-web.war'\r\nset :tomcat_context_path, '/test-web'\r\nset :tomcat_context_file, '/var/lib/tomcat7/conf/Catalina/localhost/test-web.xml'\r\nset :tomcat_work_dir, '/var/lib/tomcat7/work/Catalina/localhost/test-web'\r\n\r\n# Deploy setting section\r\nset :local_war_file, '/tmp/test-web.war'\r\nset :context_template_file, File.expand_path('../templates/context.xml.erb', __FILE__).to_s\r\nset :use_context_update, false\r\nset :use_parallel, false\r\nset :use_context_update, false\r\n</pre>\r\n\r\n###Task\r\nYou can get task name of Capitomcat by run `cap -T`\r\n<pre>\r\ncap capitomcat:deploy              # Capitomcat Recipe for Tomcat web application deployment\r\n</pre>\r\n\r\n###***Documentation is still working on...***\r\n\r\n&hearts;For more details, please refer to example recipes.&hearts;\r\n\r\n## License\r\n<pre>\r\nCopyright 2014 Sunggun Yu\r\n\r\nLicensed under the Apache License, Version 2.0 (the \"License\");\r\nyou may not use this file except in compliance with the License.\r\nYou may obtain a copy of the License at\r\n\r\n    http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nUnless required by applicable law or agreed to in writing, software\r\ndistributed under the License is distributed on an \"AS IS\" BASIS,\r\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\nSee the License for the specific language governing permissions and\r\nlimitations under the License.\r\n</pre>","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}